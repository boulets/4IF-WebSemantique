<!DOCTYPE html>
<html lang="fr">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Polit'IF</title>

    <link rel="stylesheet" href="styles/reset.css" />
    <link rel="stylesheet" href="styles/typography.css" />
    <link rel="stylesheet" href="styles/colors.css" />
    <link rel="stylesheet" href="styles/utility.css" />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/colonnes.css" />
    <link rel="stylesheet" href="styles/profil.css" />
    <link rel="stylesheet" href="styles/recherche.css" />
  </head>

  <body>
    <header>
      <div class="brand">
        <h1><a href="index.html">Polit’IF</a></h1>
        <p class="h3">Le moteur de recherche de la politique française</p>
      </div>

      <nav>
        <a href="index.html">Recherche</a>
        <a href="profil.html#Q2124-Valéry Giscard d'Estaing">Giscard</a>
        <a href="parti.html#Q23731823-La République en marche">LREM</a>
      </nav>
    </header>

    <main class="recherche">
      <label for="search">Rechercher une personnalité, un parti, une idéologie politique.</label>
      <div id="search-container">
        <div id="search-input-container">
          <div id="search-autocomplete"></div>
          <input pattern=".+" id="search" type="text" inputmode="search" placeholder="Valéry Giscard d'Estaing" />
          <button type="submit" id="searchButton">
            <div class="sr-only">
              Accéder au meilleur résultat de recherche
            </div>
            <span aria-hidden="true">→</span>
          </button>
        </div>

        <div id="searchResultsContainer" n-personnalites="0" n-partis="0" n-ideologies="0">
          <div id="resultats-personnalites">
            <h3>Personnalités politiques</h3>
            <ul id="searchResultsPersonnalites"></ul>
          </div>
          <div id="resultats-partis">
            <h3>Partis</h3>
            <ul id="searchResultsPartis"></ul>
          </div>
        </div>
      </div>

      <aside class="home-cards"></aside>

      <script>
        function createElementFromHtml(template) {
          const div = document.createElement('div')
          div.innerHTML = template
          return div.children[0]
        }
        function homecard({ title = '', subtitle = '', titleHref = '', subtitleHref = '', icon = '' }) {
          const card = createElementFromHtml(`<article class="home-card">
                  <img src="" alt="" class="home-card__icon" />
                  <a href="" class="home-card__title"></a>
                  <a href="" class="home-card__subtitle"></a>
                </article>`)
          card.querySelector('.home-card__title').innerText = title
          card.querySelector('.home-card__subtitle').innerText = subtitle
          card.querySelector('a.home-card__title').href = titleHref
          card.querySelector('a.home-card__subtitle').href = subtitleHref
          card.querySelector('img.home-card__icon').src = icon
          return card
        }
        function homecards(cardsData) {
          const el = document.querySelector('.home-cards')
          el.innerHTML = ''
          el.append(...cardsData.map(homecard))
        }
        homecards([
          {
            title: 'Emmanuel Macron',
            titleHref: 'profil.html#Q3052772-Emmanuel%20Macron',
            subtitle: 'La République en marche',
            subtitleHref: 'parti.html#Q23731823-La%20République%20en%20marche',
            icon: 'http://commons.wikimedia.org/wiki/Special:FilePath/Emmanuel%20Macron%20%2837374335081%29%20%28cropped%29.jpg?width=200px',
          },
          {
            title: 'La République en marche',
            titleHref: 'parti.html#Q23731823-La%20République%20en%20marche',
            subtitle: 'Libéralisme',
            subtitleHref: '',
            icon: 'https://upload.wikimedia.org/wikipedia/commons/4/45/Logo_En_Marche_%21.svg',
          },
          {
            title: 'Jean-Luc Mélenchon',
            titleHref: 'profil.html#Q5829-Jean-Luc%20Mélenchon',
            subtitle: 'La France insoumise',
            subtitleHref: 'parti.html#Q27978402-La%20France%20insoumise',
            icon: 'http://commons.wikimedia.org/wiki/Special:FilePath/Jean%20Luc%20MELENCHON%20in%20the%20European%20Parliament%20in%20Strasbourg%2C%202016%20%28cropped%29.jpg?width=200px',
          },
          {
            title: 'La France insoumise',
            titleHref: 'parti.html#Q27978402-La%20France%20insoumise',
            subtitle: 'Anticapitalisme',
            subtitleHref: '',
            icon: 'https://upload.wikimedia.org/wikipedia/commons/3/3a/Logo_France_Insoumise.svg',
          },
          {
            title: 'François Hollande',
            titleHref: 'profil.html#Q157-François%20Hollande',
            subtitle: 'Parti socialiste',
            subtitleHref: 'parti.html#Q170972-Parti%20socialiste',
            icon: 'http://commons.wikimedia.org/wiki/Special:FilePath/Francois%20Hollande%202015.jpeg?width=200px',
          },
        ])
      </script>
    </main>

    <footer>
      <div class="drapeau-francais">
        <span class="sr-only">Drapeau français</span>
      </div>
    </footer>

    <script src="scripts/Slots.js"></script>
    <script src="scripts/fetchers.js"></script>
    <script src="scripts/render.js"></script>
    <script src="scripts/requetes.js"></script>
    <script src="scripts/recherche.js"></script>
  </body>

</html>
